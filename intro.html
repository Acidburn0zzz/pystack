

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; PyStack 1 documentation</title>
    
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="PyStack 1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">PyStack 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about-pystack">
<h2>About PyStack<a class="headerlink" href="#about-pystack" title="Permalink to this headline">¶</a></h2>
<p>Pystack is a framework developped above the scapy framework to bring some
network stateful functionality. <a class="reference external" href="http://www.secdev.org/projects/scapy/doc/">Scapy</a> is used in PyStack for input/output
using raw sockets and more especialy <tt class="docutils literal"><span class="pre">L2ListenSocket</span></tt>. But also to craft
and decode packets. Then pystack is built above multiple protocols implemen-
tations themselves architectured into a sack which allow the different layers to
communicate. It <strong>brings the IP stack in userland</strong> and then allow to do anything
on network packets, modify the network stack behavior without patching the
Linux kernel. PyStack took his first inspiration from the old project muXTCP presented at
22C3 and keep some of its principles.</p>
</div>
<div class="section" id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>PyStack has been implemented in python, and act as a subversive stack from the kernel
point of view which have no control on it. To work simultaneously on the same
host pystack need to alter the kernel stack behavior by blocking outgoing packets
on the given ports using netfilter. Indeed when a subversive stack establish a
connection to a remote host, any packet incoming packet from this host will
be reset by the kernel which didn’t instanciated the connection. That’s why
some host and port will be momentaneously blocked by the interfering stack.
The only thing to remember is that pystack allow to personalize the TCP/IP stack
behavior in a per/connection manner. The behavior can be different for any
connection. Finally the overall advantage of it is that it run above the Linux
Kernel stack so it does not disturb the stability of the whole system and the
pystack is protected from Kernel panic because it works in userland.</p>
</div>
<div class="section" id="what-is-the-goal">
<h2>What is the goal ?<a class="headerlink" href="#what-is-the-goal" title="Permalink to this headline">¶</a></h2>
<p>The global goal of PyStack is to give the control of a network stack in userland. Basically in networking you can manipulate
raw packets crafting them or manipulate packets at application layer with sockets modules. But in between no python module allow to
manipulate from the Ethernet to Application layer. This is not a problem for protocol like UDP for which packets can be crafted easily but for
stateful protocols like TCP it becomes far more complicated. Various things that can be accomplished with PyStack are:</p>
<p><em>The main goal of this project is to provide a simple enough stack to allow anybody to hack into in order to obtain its own behavior.</em></p>
<ul class="simple">
<li>Modifying the protocols behavior (Ethernet, ARP, IP, TCP)</li>
<li>Quickly prototyping protocols, or protocols functionnalities like (SYN Cookies, TCPCT, TFO TCP Fast Open) or any new fancy stuff</li>
<li>Pentesting infrastructures playing with fragmentation, or weird behavior</li>
<li>Fool fingerprinting tools or testing our own</li>
<li>Or just get stack control from the top/bottom without hacking into the kernel ;)</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#about-pystack">About PyStack</a></li>
<li><a class="reference internal" href="#how-it-works">How it works</a></li>
<li><a class="reference internal" href="#what-is-the-goal">What is the goal ?</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/intro.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">PyStack 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Robin David.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
